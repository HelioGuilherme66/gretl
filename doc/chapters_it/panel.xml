<?xml version="1.0" encoding="iso-8859-1"?>
<?PSGML NOFILL programlisting example informalequation?>

  <chapter id="chap-panel"><title>Dati panel</title>

  <sect1 id="panel-structure"><title>Struttura panel</title>

    <para>I dati panel possono essere visti sotto tre dimensioni, ossia
      le variabili, le unità cross-section e i periodi temporali.
      Per rappresentarli in un file testuale (e anche per poterli
      manipolare), queste tre dimensioni devono in qualche modo essere
      riportate a due. Questa procedura di <quote>appiattimento</quote>
      richiede di prendere degli <quote>strati</quote> di dati che
      apparterrebbero alla terza dimensione e di impilarli nella dimensione
      verticale del file.</para>

    <para><application>Gretl</application> si aspetta sempre di trovare
      dati organizzati <quote>per osservazione</quote>, ossia in modo che
      ogni riga rappresenti un'osservazione (e che ogni variabile occupi
      esattamente una colonna). Alla luce di questo fatto, l'appiattimento
      dei dati panel può essere realizzato in due modi:</para>

    <itemizedlist>
       <listitem><para>
         Pila di dati cross section: ognuno dei blocchi di dati disposti
         verticalmente contiene i valori per tutte le unità cross-section
         (longitudinali) in un determinato periodo.</para>
       </listitem>
       <listitem><para>
         Pila di serie storiche: ognuno dei blocchi di dati disposti
         verticalmente contiene serie storiche per una determinata
         unità cross-section.</para>
       </listitem>
    </itemizedlist>

    <para>È possibile usare entrambi i metodi. Il menù
      <guimenu>Campione</guimenu> di <application>gretl</application> contiene
      il comando <quote>Ristruttura panel</quote>, che permette di passare
      dalla disposizione "pila di dati cross-section" a quella "pila di
      serie storiche" e viceversa.</para>

    <para>Quando si importano dati panel in
    <application>gretl</application> da un foglio di calcolo o da un
    file con valori separati da virgole, la struttura panel non verrà
    riconosciuta automaticamente (molto probabilmente i dati verranno
    trattati come <quote>non datati</quote>). Per imporre
    un'interpretazione panel ai dati, è possibile procedere in due modi.
    </para>

    <orderedlist>
      <listitem>
	<para>Usando il comando dell'interfaccia grafica <quote>Campione,
        Struttura dataset</quote>. Nella prima finestra di dialogo occorre
        selezionare <quote>Panel</quote>; in quella successiva, occorre
        indicare se i dati sono organizzati sotto forma di pila di serie
        storiche o di dati cross section.  Nella finestra di dialogo successiva
        occorre indicare il numero di unità cross section nel dataset, infine è
        possibile controllare se la specificazione dei dati mostrata è
        corretta e confermare l'operazione.
 	</para> 
      </listitem>
      <listitem>
	<para>Usando il comando testuale <command>setobs</command>. Per i
        dati panel, la sintassi del comando è
	  <literal>setobs</literal> <replaceable>freq</replaceable>
	  <literal>1:1</literal> <replaceable>struttura</replaceable>,
          dove <replaceable>freq</replaceable> indica la
	  <quote>dimensione dei blocchi</quote> di dati (ossia, il numero
          di periodi nel caso delle pile di serie storiche, o il numero
          di unità cross section nel caso di pila di dati cross section),
          mentre <replaceable>struttura</replaceable> può essere uguale a
	  <literal>--stacked-time-series</literal> o
	  <literal>--stacked-cross-section</literal>. Di seguito vengono
          mostrati due esempi: il primo per un dataset panel sotto forma
          di pila di serie storiche con osservazioni per 20 periodi, il secondo
          per un dataset panel sotto forma di pila di dati cross section, con
          5 unità cross section.
	</para>
	
	<programlisting>
	    setobs 20 1:1 --stacked-time-series
	    setobs 5 1:1 --stacked-cross-section
	</programlisting>
      </listitem>
    </orderedlist>

  </sect1>

  <sect1 id="dummies"><title>Variabili dummy</title>

    <para>In uno studio panel, può nascere l'esigenza di costruire
      delle variabili dummy di uno dei seguenti tipi: (a) dummy che
      identificano ciascuna delle unità cross-section, o (b) dummy che
      identificano ciascuna delle unità temporali. Il primo tipo può
      essere usato per permettere all'intercetta della regressione di
      variare tra le unità cross-section, il secondo per permettere
      all'intercetta di variare tra i periodi.</para>

    <para>Per creare questo tipo di dummy, è possibile usare le tre
    funzioni speciali del menù <guimenuitem>Dati, Aggiungi
      variabile</guimenuitem>, o del comando testuale
      <command>genr</command>.</para>

    <orderedlist>
      <listitem><para><quote>Dummy periodiche</quote> (comando
       testuale <command>genr dummy</command>). Questo comando
       crea un insieme di variabili dummy che identificano i periodi.
       La variabile <varname>dummy_1</varname> avrà valore 1 in ogni riga
       dei dati che corrisponde a un'osservazione del primo periodo, e 0 altrove;
       <varname>dummy_2</varname> avrà valore 1 in ogni riga
       dei dati che corrisponde a un'osservazione del secondo, e così via.
      </para>
      </listitem>
      <listitem><para><quote>Dummy per unità</quote> (comando testuale
        <command>genr unitdum</command>). Questo comando crea un insieme di
        variabili dummy che identificano le unità cross section.  La variabile
        <varname>du_1</varname> avrà valore 1 in ogni riga dei dati che
        corrisponde a un'osservazione della prima unità cross section, e 0
        altrove; <varname>du_2</varname> avrà valore 1 in ogni riga dei dati che
        corrisponde a un'osservazione della seconda unità cross section, e così
        via.
        </para>
      </listitem>
      <listitem><para><quote>Dummy panel</quote> (comando testuale
       <command>genr paneldum</command>). Questo comando crea entrambi i tipi di
       dummy: sia quelle periodiche e quelle relative alle unità cross section
       (longitudinali). Le dummy longitudinali sono chiamate
       <varname>du_1</varname>, <varname>du_2</varname> e così via, mentre le
       dummy periodiche sono chiamate <varname>dt_1</varname>,
       <varname>dt_2</varname>, ecc.</para>
      </listitem>
    </orderedlist>

    <para>Se un dataset panel contiene l'anno di ogni osservazione
      all'interno della variabile <literal>ANNO</literal>, è possibile
      creare una dummy periodica per un anno particolare, ad esempio con
      <command>genr dum = (ANNO=1960)</command>. È anche possibile
      creare variabili dummy periodiche usando l'operatore modulo,
      <literal>%</literal>.  Ad esempio, per creare una dummy che
      valga 1 ogni trenta osservazioni a partire dalla prima e 0
      altrove, basta eseguire</para>

    <programlisting>
      genr index 
      genr dum = ((index-1)%30) = 0
    </programlisting>

  </sect1>

  <sect1 id="panel-lagged"><title>Ritardi e differenze con dati panel</title>

    <para>Se i periodi temporali sono distanziati in modo uniforme, è
      possibile usare valori ritardati delle variabili in una
      regressione panel, come anche costruire differenze prime delle
      variabili.</para>

    <para>Se un dataset è identificato correttamente come panel
      (si veda il paragrafo precedente),
      <application>gretl</application> gestirà correttamente la
      generazione di questo tipo di variabili. Ad esempio, il comando
      <command>genr x1_1 = x1(-1)</command> creerà una variabile che
      contiene il primo ritardo di <literal>x1</literal>, laddove è
      disponibile, e il codice di valore mancante, laddove il ritardo
      non è disponibile.
    </para>

    <para>Quanto si esegue una regressione che include questo tipo di
      variabili, il programma escluderà automaticamente le osservazioni
      mancanti.</para>

  </sect1>

  <sect1 id="pooled-est"><title>Stima pooled</title>

    <para>Esiste un comando speciale di stima utilizzabile con i dati
    panel, il comando <guimenuitem>Pooled OLS</guimenuitem> nel menù
      <guimenu>Modello</guimenu>. Questo comando è disponibile solo se
      il dataset è riconosciuto come panel; per usarlo, occorre
      specificare un modello senza alcuna variabile dummy relativa
      alle unità cross-section. Il comando esegue una semplice stima
      OLS, trattando allo stesso modo la variazione longitudinale e
      quella temporale presente nei dati. Questo modello può essere
      appropriato o no: il menù <guimenu>Test</guimenu> della
      finestra del modello contiene il comando <guimenuitem>Diagnosi
      panel</guimenuitem>, che esegue un test del modello OLS pooled contro
      le principali alternative: il modello a effetti fissi e quello a
      effetti casuali.</para>

    <para>
	Il modello a effetti fissi aggiunge una variabile dummy per
        tutte le unità cross section tranne una, permettendo così
        all'intercetta della regressione di variare per ogni unità.
	Viene eseguito un test <emphasis>F</emphasis> per la
        significatività congiunta di queste dummy: un basso p-value per
        questo test va contro l'ipotesi nulla (che il semplice modello
        pooled OLS sia adeguato) e a favore del modello a effetti
        fissi.</para>

    <para>Il modello a effetti casuali, d'altra parte, scompone la
    varianza dei residui in due parti: una specifica all'unità cross
    section, o <quote>gruppo</quote>, e una specifica all'osservazione
    particolare (la stima può essere eseguita solo se il panel è
    abbastanza <quote>largo</quote>, ossia se il numero delle unità
    cross section nel dataset è maggiore del numero dei
    parametri da stimare). La statistica LM di Breusch&ndash;Pagan
    testa l'ipotesi nulla (che il modello pooled OLS sia adeguato)
    contro l'alternativa a effetti casuali.</para>

    <para>
	Può accadere che il modello pooled OLS sia rifiutato nei confronti
        di entrambe le alternative, a effetti fissi o casuali. Come
        giudicare quindi l'adeguatezza relativa dei due metodi
        alternativi di stima? Il test di Hausman (i cui risultati sono
        mostrati a patto che il modello a effetti casuali possa essere
        stimato) cerca di risolvere questo problema.  A patto che gli
        errori specifici di unità o di gruppo siano non correlati con
        le variabili indipendenti, lo stimatore a effetti casuali è
        più efficiente dello stimatore a effetti fissi; nel caso
        contrario lo stimatore a effetti casuali non è consistente e
        deve essergli preferito lo stimatore a effetti fissi.
        L'ipotesi nulla per il test di Hausman è che l'errore
        specifico di gruppo non sia correlato con le variabili
        indipendenti (e quindi che il modello a effetti casuali sia
        preferibile). Un basso p-value per questo test suggerisce di
        rifiutare il modello a effetti casuali in favore del modello a
        effetti fissi.
      </para>

    <para>Per una discussione rigorosa di questo argomento, si veda il
    capitolo 14 di Greene (2000).</para>

  </sect1>

  <sect1 id="PWT"><title>Esempio: la Penn World Table</title>

    <para>La Penn World Table (homepage a <ulink
	url="http://pwt.econ.upenn.edu/">pwt.econ.upenn.edu</ulink>)
      è un ricco dataset panel macroeconomico, che comprende 152 paesi
      sull'arco temporale 1950&ndash;1992. I dati sono disponibili in
      formato <application>gretl</application>: si veda la <ulink
      url="http://gretl.sourceforge.net/gretl_data_it.html">pagina
      dei dati</ulink> di <application>gretl</application>
      (i dati sono liberamente scaricabili, anche se non sono
      distribuiti nel pacchetto principale di
      <application>gretl</application>).</para>  

    <para>L'<xref linkend="examp-pwt"/> sottostante apre il file
      <filename>pwt56_60_89.gdt</filename>, un sottoinsieme della Penn
      World Table che contiene dati per 120 paesi negli anni
      1960&ndash;89, su 20 variabili, senza osservazioni mancanti (il
      dataset completo, anch'esso compreso nel pacchetto pwt per
      <application>gretl</application>, contiene molte osservazioni
      mancanti). Viene calcolata la crescita del PIL reale sul periodo
      1960&ndash;89 per ogni paese, e viene regredita sul livello del
      PIL reale dell'anno 1960, per analizzare l'ipotesi della
      <quote>convergenza</quote> (ossia di una crescita più veloce da parte
      dei paesi che partono da una situazione peggiore).</para>

    <example id="examp-pwt">
      <title>Uso della Penn World Table</title>
      <programlisting>
	  open pwt56_60_89.gdt 
	  # Per l'anno 1989 (l'ultima oss.) il ritardo 29 dà 1960, la prima oss. 
	  genr gdp60 = RGDPL(-29) 
	  # Calcola la crescita totale del PIL reale sui 30 anni
	  genr gdpgro = (RGDPL - gdp60)/gdp60
	  # Restringi il campione a una cross-section del 1989
	  smpl --restrict YEAR=1989 
	  # convergenza: i paesi che partono più indietro crescono di più?
	  ols gdpgro const gdp60 
	  # risultato: no! Proviamo una relazione inversa?
	  genr gdp60inv = 1/gdp60 
	  ols gdpgro const gdp60inv 
	  # Ancora no. Proviamo a trattare l'Africa in modo speciale? 
	  genr afdum = (CCODE = 1)
	  genr afslope = afdum * gdp60 
	  ols gdpgro const afdum gdp60 afslope 
      </programlisting>
    </example>
  </sect1>

  </chapter>

<!-- Keep this comment at the end of the file
Local variables:
sgml-default-dtd-file:"../manual.ced"
mode: xml
sgml-parent-document:("../manual_it.xml" "book" "chapter")
End:
-->

