<appendix id="app-datafile"><title>Dettagli sul formato dei dati</title>

    <sect1 id="native"><title>Il formato dati interno</title>

      <para>Nel formato dati interno di <application>gretl</application>,
	un dataset è rappresentato da due file: uno contiene i dati veri
        e propri, l'altro contiene una descrizione su come i dati vanno
        interpretati. Nello specifico:</para>

      <orderedlist>
  
	<listitem><para><emphasis>Dati veri e propri</emphasis>: una
            matrice rettangolare di numeri separati da spazi o tab. Ogni
            colonna rappresenta una variabile, ogni riga un'osservazione
            relativa ad ognuna delle variabili (come in un foglio
            elettronico); le colonne di dati possono essere separate da
            spazi o tab. Il file di solito ha un nome con l'estensione
	    <filename>.gdt</filename> ed è in formato ASCII (testo
            semplice), ma può essere anche compresso con gzip per
            risparmiare spazio su disco. È possibile inserire dei
            commenti nel file: se una riga inizia con il carattere
            cancelletto (<literal>#</literal>) viene ignorata
            (caratteristica comune anche ai file di dati di gnuplot e
            octave).</para></listitem>

	<listitem><para><emphasis>Descrizione</emphasis>: il file di
            dati deve essere accompagnato da un file di descrizione che
            ha la prima parte del nome in comune, ma l'estensione
	    <filename>.hdr</filename> (file header). Questo file
            contiene, nell'ordine:</para>

	  <itemizedlist mark="dash">
	    <listitem><para>(opzionale) <emphasis>Commenti</emphasis>
		sul dataset, che si aprono con la stringa <literal>(*</literal>
                e si chiudono con <literal>*)</literal>; ognuna di
                queste due stringhe deve comparire da sola su una riga.
                </para></listitem>
	    <listitem><para>(richiesto) Una lista di <emphasis>nomi
                delle variabili</emphasis> separati da spazi o tab. I
                nomi sono limitati in lunghezza a 8 caratteri, devono
                iniziare per una lettera e possono contenere solo
                caratteri alfanumerici o il trattino basso. La lista può
                continuare su più di una riga e si chiude con un punto e
                virgola: <literal>;</literal>.</para></listitem>
	    <listitem><para>(richiesto) Una riga che descrive le
                <emphasis>osservazioni</emphasis>, nella forma
                <literal>1 1 85</literal>.  Il primo valore indica la
                frequenza dei dati (1 per dati annuali o non datati, 4
                per trimestrali, 12 per mensili). Gli altri due valori
                indicano le osservazioni iniziali e finali. Se i dati
                non sono datati, questi valori saranno rispettivamente 1
                e il numero totale di osservazioni; per i dati che
                rappresentano serie storiche, è possibile usare delle
                date nel formato <command>1959.1</command> (trimestre
                indicato con una cifra dopo il punto) o <command>1967.03</command>
                (mese indicato con due cifre dopo il punto). Si veda
                il??? <xref linkend="chap-panel"/> più avanti??? per
                l'uso di questa riga con dati panel.</para></listitem>
	    <listitem><para>La parola chiave
		<literal>BYOBS</literal>.</para></listitem> 
	  </itemizedlist>
	</listitem>   
      </orderedlist> 

      <para>Ecco un esempio di file di descrizione dei dati.

	<programlisting> 
	  (* 
	  DATA9-6: 
	  Data on log(money), log(income) and interest rate from US. 
	  Source: Stock and Watson (1993) Econometrica 
	  (unsmoothed data) Period is 1900-1989 (annual data). 
	  Data compiled by Graham Elliott. 
	  *) 
	  lmoney lincome intrate ; 
	  1 1900 1989 BYOBS</programlisting>

	Il file di dati corrispondente contiene tre colonne di dati,
        ognuna contenente 90 osservazioni.</para>

    </sect1>

    <sect1 id="extensions"><title>Estensioni al formato dati base</title>

      <para>
	<application>gretl</application> supporta anche altre opzioni
        nei propri file di dati:
      </para>

      <orderedlist>
	<listitem><para>Sostituendo la parola chiave <literal>BYOBS</literal>
            con <literal>BYVAR</literal> e aggiungendo la parola chiave
	    <literal>BINARY</literal>, si indica che il file di dati
            corrispondente è in formato binario. È possibile creare
            questo tipo di file di dati con
            <application>gretlcli</application> usando il comando
            <command>store</command> con le opzioni
            <command>-s</command> (precisione singola) o
	    <command>-o</command> (precisione doppia).</para></listitem>
	
	<listitem><para>Se <literal>BYOBS</literal> è seguito dalla
            parola chiave <literal>MARKERS</literal>,
            <application>gretl</application> si aspetta un file di dati
            in cui la <emphasis>prima colonna</emphasis> contiene dei
            marcatori, ossia delle stringhe (lunghe al massimo 8
            caratteri) usate per identificare le osservazioni.
	    I marcatori possono essere utili nel caso di dati
            cross-section, in cui le osservazioni rappresentano unità
            identificabili, ad esempio paesi, città o simili. Un altro
            caso è quello delle serie storiche irregolari, come ad esempio dati
            giornalieri di quotazioni finanziarie: è possibile marcare i
            giorni in cui non avvengono contrattazioni (ad esempio con
            una stringa che rappresenta la data, come
            <command>10/01/98</command>; si tenga presente il limite di
            8 caratteri per la stringa). Si noti che le parole chiave
	    <command>BINARY</command> e <command>MARKERS</command> sono
            mutualmente esclusive e che i <quote>marcatori</quote> non
            vengono considerati come una variabile: questa colonna non
            ha una voce corrispondente nell'elenco delle variabili
            contenuto nel file di descrizione dei dati.</para></listitem>

	<listitem><para>Se esiste un file con la prima parte del nome
            uguale a quella del file di dati e del file della
            descrizione, ma con l'estensione <filename>.lbl</filename>,
            viene letto come file che contiene le etichette descrittive
            per le serie dei dati. Il file delle etichette contiene
            testo semplice, nel seguente formato: ogni riga contiene il
            nome di una variabile (che deve corrispondere a quello
            contenuto nel file di descrizione dei dati), seguito da uno
            o più spazi e dall'etichetta descrittiva. Ecco un esempio:

	    <literal>price  New car price index, 1982 base year</literal>

	    Un file di etichette viene creato automaticamente quando si
            salvano dati da <application>gretl</application> dopo aver
            aggiunto delle etichette descrittive per le serie, con il
            comando <quote>Modifica attributi</quote> del menù
            <quote>Variabile</quote>.
	  </para>
	</listitem>
      </orderedlist>

    </sect1>

</appendix>

<!-- Keep this comment at the end of the file
Local variables:
sgml-default-dtd-file:"../manual.ced"
mode: sgml
sgml-parent-document:("../manual.xml" "book" "chapter")
End:
-->
