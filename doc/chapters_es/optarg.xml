<?xml version="1.0" encoding="ISO-8859-1" ?>

  <chapter id="c-optarg">
    <title>Opciones, argumentos y directorios</title>

    <sect1 id="optarg1">
      <title><application>gretl</application></title>

      <para>
      <command><application>gretl</application></command> (en MS Windows,
      <command>gretlw32.exe</command>)<footnote><para>En Linux, se instala un
	  <quote>lote de instrucciones de envoltura (wrapper)</quote> llamado
	  <filename>gretl</filename>. Este lote de instrucciones comprueba si la
	  variable de entorno <literal>DISPLAY</literal> está activada; si lo
	  está, lanza el programa GUI, <filename>gretl_x11</filename>, y si no,
	  lanza el programa de línea de instrucciones,
	  <filename>gretlcli</filename>.</para>
      </footnote>
    </para>

      <para>- Abre el programa y espera las instruccionest del usuario.</para>

      <para><command><application>gretl</application></command> <replaceable>archivo_de_datos</replaceable>
    </para>

      <para>- Abre el programa con el archivo de datos indicado en su ventana
      de trabajo. El archivo de datos puede estar en formato propio de
      <application>gretl</application>, formato CSV, o formato BOX1 (véase el
      <xref linkend="c-datafiles" /> arriba). El programa intenta detectar el
      formato del archivo y procede en consecuencia. Véase también <xref
      linkend="path-search" /> abajo para el comportamiento de búsqueda de
      directorios.</para>

      <para><command>gretl --help</command> (o <command>gretl -h</command>)</para>

      <para>- Muestra un breve resumen del historial de la sesión y sale al
      sistema operativo.</para>

      <para><command>gretl --version</command> (o <command>gretl -v</command>)</para>

      <para>- Muestra la identificación de la versión del programa y sale al
      sistema operativo.</para>

      <para><command>gretl --run</command> <replaceable>archivo_de_instrucciones</replaceable>
      (o <command>gretl -r</command> <replaceable>archivo_de_instrucciones</replaceable>)</para>

      <para>- Abre el programa con una ventana mostrando el archivo de
      instrucciones indicado, listo para su ejecución. Véase <xref
      linkend="path-search" /> abajo para las características de búsqueda de
      directorios.</para>

      <para><command>gretl --db</command> <replaceable>base_de_datos</replaceable>
      (o <command>gretl -d</command> <replaceable>base_de_datos</replaceable>)</para>

      <para>- Abre el programa con una ventana en la que se muestra la base de
      datos especificada. Si los archivos de la base de datos (el archivo
      <filename>.bin</filename> y su acompañante <filename>.idx</filename> -
      véase <xref linkend="dbase" />) no están en el directorio de bases de
      datos por defecto del sistema, es preciso especificar la ubicación
      completa.</para>

      <para>Podemos configurar varios detalles de <application>gretl</application>
      con el menú <quote>Archivo, Preferencias</quote>.</para>

      <itemizedlist>
        <listitem>
          <para>El directorio base para los archivos compartidos de
          <application>gretl</application>.</para>
        </listitem>

        <listitem>
          <para>El directorio base del usuario para archivos relacionados con
          <application>gretl</application>.</para>
        </listitem>

        <listitem>
          <para>La instrucción para lanzar <application>gnuplot</application>.</para>
        </listitem>

        <listitem>
          <para>La instrucción para lanzar GNU R (véase el <xref
          linkend="app-advanced" />).</para>
        </listitem>

        <listitem>
          <para>La instrucción para visualizar archivos TeX DVI.</para>
        </listitem>

        <listitem>
          <para>El directorio en donde empezar a buscar las bases de datos
          nativas de <application>gretl</application>.</para>
        </listitem>

        <listitem>
          <para>El directorio en donde empezar a buscar las bases de datos de
          RATS 4.</para>
        </listitem>

        <listitem>
          <para>El número IP del servidor de bases de datos de
          <application>gretl</application>.</para>
        </listitem>

        <listitem>
          <para>El número IP y número de puerto del servidor proxy HTTP a
          utilizar para contactar con el servidor de bases de datos, en caso
          de que sea aplicable (si tenemos un cortafuegos).</para>
        </listitem>

        <listitem>
          <para>Los programas de calculadora y edición a lanzar desde la barra
          de herramientas.</para>
        </listitem>

        <listitem>
          <para>La fuente monoespacio a utilizar en los resultados de
          <application>gretl</application> en la pantalla.</para>
        </listitem>

        <listitem>
          <para>La fuente a utilizar en los menús y otros mensajes. (Nota: esta
          opción no está presente cuando <application>gretl</application> está
          compilado para el escritorio <application>gnome</application>, ya
          que en este caso la elección de fuentes se controla directamente
          desde <application>gnome</application>.)</para>
        </listitem>
      </itemizedlist>

      <para>También hay algunas casillas para señalar. Señalando la casilla
      <quote>modo experto</quote> se suprimen algunos mensajes de aviso, que se
      muestran en caso contrario. Marcar la casilla <quote>Informar sobre las
	actualizaciones de <application>gretl</application></quote> hace que
      <application>gretl</application> intente conectar con el servidor de
      actualizaciones al empezar el programa. Desmarcar <quote>Mostrar barra de
	herramientas de <application>gretl</application></quote> desactiva el
      icono del mismo. Si el idioma del sistema no es el Inglés, y el carácter
      de punto decimal no es el punto <quote><literal>.</literal></quote>,
      desactivar la casilla <quote>Utilizar configuración local para el punto
	decimal</quote> hará que <application>gretl</application> utilice el
      punto a pesar de todo.
    </para>

      <para>Finalmente, hay algunas elecciones alternativas: en la pestaña
      <quote>Abrir/Guardar camino</quote> puede
      establecerse el directorio por defecto donde <application>gretl</application>
      tiene que buscar al abrir o guardar un archivo - bien el directorio de
      usuario de <application>gretl</application> o bien el directorio de
      trabajo actual. En la pestaña <quote>Ficheros de datos</quote>
      puede establecerse el sufijo a utilizar por defecto para los nombres de
      archivos de datos. El sufijo normal es <literal>.gdt</literal> pero, si
      se desea, se puede poner <literal>.dat</literal>, que era la norma
      en las versiones anteriores del programa. Si se pone <literal>.dat</literal>
      por defecto, entonces los archivos de datos serán guardados en el
      formato <quote>tradicional</quote> (véase el <xref linkend="c-datafiles" />).
      También es posible seleccionar la acción a asociar con el icono de
      carpeta en la barra de herramientas en esta misma pestaña de
      <quote>Ficheros de datos</quote>: se puede elegir entre abrir el listado
      de los archivos de datos asociados con el libro de texto de Ramanathan,
      o con el libro de Wooldridge.</para>

      <para>Las opciones establecidas de esta manera se gestionan de modo
      diferente dependiendo del contexto. En MS Windows se guardan en el
      registro de Windows. En el escritorio de <application>gnome</application>
      se guardan en <filename>.gnome/gretl</filename> en el directorio
      personal del usuario. En otros casos, se guardan en un archivo llamado
      <filename>.gretlrc</filename> en el directorio del usuario.</para>
    </sect1>

    <sect1 id="optarg2">
      <title>gretlcli</title>

      <para><command>gretlcli</command></para>

      <para>- Abre el programa y espera a que el usuario introduzca órdenes.</para>

      <para><command>gretlcli</command> <replaceable>archivo_de_datos</replaceable></para>

      <para>- Abre el programa con un archivo de datos específico en su
      espacio de trabajo. El archivo de datos puede estar en formato nativo de
      <application>gretl</application>, formato CSV, o formato BOX1 (véase el
      <xref linkend="c-datafiles" />). El programa intentará detectar el formato
      del archivo y procederá en consecuencia. Véase también <xref
      linkend="path-search" /> abajo, para más detalles sobre las características de búsqueda de
      directorios.</para>

      <para><command>gretlcli --help</command> (o <command>gretlcli -h</command>)</para>

      <para>- Muestra un breve resumen de uso (lista de instrucciones).</para>

      <para><command>gretlcli --version</command> (o <command>gretlcli -v</command>)</para>

      <para>- Muestra la identificación de la versión del programa.</para>

      <para><command>gretlcli --pvalue</command> (o <command>gretlcli -p</command>)</para>

      <para>- Abre el programa de modo que podemos especificar de manera
      interactiva el valor p para varios estadísticos habituales.</para>

      <para><command>gretlcli --run</command> <replaceable>archivo_de_guión</replaceable>
      (o <command>gretlcli -r</command> <replaceable>archivo_de_guión</replaceable>)</para>

      <para>- Ejecuta las instrucciones que hay en <replaceable>archivo_de_guión</replaceable> y
      después pasa el control a la línea de instrucciones. Véase <xref linkend="path-search" />
      para más detalles sobre las características de búsqueda de directorios.</para>

      <para><command>gretlcli --batch</command> <replaceable>archivo_de_guión</replaceable>
      (o <command>gretlcli -b</command> <replaceable>archivo_de_guión</replaceable>)</para>

      <para>- Ejecuta las instrucciones que hay en <replaceable>archivo_de_guión</replaceable> y
      después sale del programa. Cuando utilice esta opción, Vd. probablemente deseará redirigir 
      la salida del programa a un archivo. Véase <xref linkend="path-search" />
      para más detalles sobre las características de búsqueda de directorios.</para>

      <para>Al usar las opciones <command>--run</command> y <command>--batch</command>,
      el guión de instrucciones en cuestión tiene que abrir un archivo
      de datos. Es posible hacer esto mediante la instrucción <command>open</command>
      dentro del lote. Por compatibilidad hacia atrás con el programa original
      <application>ESL</application> de Ramanathan se ofrece otro mecanismo(<application>ESL</application>
      no tenía la instrucción <command>open</command>). Una línea de la siguiente
      forma:
      <programlisting>
    (* ! mi_archivo.gdt *)</programlisting>

      hará que (a)
      <application>gretlcli</application> cargue <filename>mi_archivo.gdt</filename>,
      pero será (b) ignorado como un comentario por el programa <application>ESL</application> 
      original. Nótese la
      especificación con cuidado: hay exactamente un espacio entre la marca de
      comentario inicial, <literal>(*</literal>, y el símbolo <literal>!</literal>; hay
      justo un espacio entre el <literal>!</literal> y el nombre del archivo de
      datos.</para>

      <para>Un truco más permite a <application>gretl</application> y
      <application>gretlcli</application> obtener información sobre los
      <quote>archivos de ejercicios prácticos</quote> de ESL incluidos con el
      paquete <application>gretl</application>. Un archivo de prácticas típico
      empieza así:</para>

      <para><literal> (* PS4.1, usando el archivo de datos DATA4-1, para reproducir la Tabla
      4.2 *) </literal></para>

      <para>El algoritmo utilizado es el siguiente: si una línea de entrada
      empieza con la marca de comentario, se busca la cadena
      <literal>DATA</literal> (en mayúsculas). Si se encuentra, se extrae la
      cadena desde la <literal>D</literal> hasta el siguiente espacio o coma,
      se cambia a minúsculas y se trata como si fuera el nombre del archivo
      de datos que queremos abrir.</para>
    </sect1>

    <sect1 id="path-search">
      <title>Directorios</title>

      <para>Cuando se indica el nombre de un archivo de datos o de un archivo de lote de
      instrucciones a <application>gretl</application> o a
      <application>gretlcli</application> en la línea de instrucciones (véase <xref
      linkend="optarg1" /> y <xref linkend="optarg2" />), se busca el archivo
      de la siguiente manera:</para>

      <orderedlist>
        <listitem>
          <para><quote>Como tal</quote>. Es decir, en el directorio de trabajo
          actual o, si se especifica la dirección completa, en el sitio
          especificado.</para>
        </listitem>

        <listitem>
          <para>En el directorio del usuario de <application>gretl</application>
          (véase la <xref linkend="tab-path" /> para valores dados por defecto).</para>
        </listitem>

        <listitem>
          <para>En cualquier subdirectorio por debajo del directorio de usuario
          de <application>gretl</application>.</para>
        </listitem>

        <listitem>
          <para>En el caso de archivos de datos, la búsqueda continúa con el
          directorio principal de <application>gretl</application>. En el caso de un lote de instrucciones, la
          búsqueda continúa en el directorio de lotes de instrucciones del sistema.
          Véase la <xref linkend="tab-path" /> para los valores dados por
          defecto.</para>
        </listitem>

        <listitem>
          <para>En el caso de archivos de datos, la búsqueda procede entonces
          hacia todos los subdirectorios por debajo del directorio principal
          de datos.</para>
        </listitem>
      </orderedlist>

      <table id="tab-path" frame="none">
        <title>Directorios por defecto</title>

        <tgroup cols="3">
          <thead>
            <row>
              <entry>&nbsp;</entry>

              <entry>Linux</entry>

              <entry>MS Windows</entry>
            </row>
          </thead>

          <tbody>
            <row>
              <entry>Directorio del usuario</entry>

              <entry><filename>$HOME/gretl</filename></entry>

              <entry><filename>PREFIX\gretl\user</filename></entry>
            </row>

            <row>
              <entry>Directorio de datos del sistema</entry>

              <entry><filename>PREFIX/share/gretl/data</filename></entry>

              <entry><filename>PREFIX\gretl\data</filename></entry>
            </row>

            <row>
              <entry>Directorio de lotes de instrucciones del sistema</entry>

              <entry><filename>PREFIX/share/gretl/scripts</filename></entry>

              <entry><filename>PREFIX\gretl\scripts</filename></entry>
            </row>
          </tbody>
        </tgroup>

        <tgroup cols="1">
          <tbody>
            <row>
              <entry><emphasis>Nota:</emphasis> <filename>PREFIX</filename>
              denota el directorio base elegido en el momento en que fue
              instalado <application>gretl</application>.</entry>
            </row>
          </tbody>
        </tgroup>
      </table>

      <para>Por lo tanto no es necesario especificar el directorio completo de
      los archivos de datos o de instrucciones a menos que se quiera prescindir del
      mecanismo de búsqueda automática. (Esto también es válido para
      <application>gretlcli</application> cuando se indica un nombre de
      archivo como argumento en las instrucciones <command>open</command> o
      <command>run</command>.)</para>

      <para>Cuando un lote de instrucciones contiene una instrucción para abrir un
      archivo de datos, el orden de búsqueda del archivo de datos es como se
      ha descrito arriba, con la excepción de que también se busca en el
      directorio donde está el lote, inmediatamente después de intentar
      encontrar el archivo de datos <quote>como tal</quote>.</para>

      <sect2 id="MS-behave">
        <title>MS Windows</title>

        <para>En MS Windows, la información sobre la configuración de
        <application>gretl</application> y <application>gretlcli</application>
        se guarda en el registro de Windows. Cuando <application>gretl</application> se instala por
        primera vez, se crea un conjunto de entradas
        de registro que pueden cambiarse mediante el menú
        <quote>Archivo, Preferencias</quote>. En el caso
        de que haya que llevar a cabo algunos ajustes de forma manual a esta
        información, las entradas se encuentran (utilizando el programa
        estándar de Windows, <application>regedit.exe</application>) dentro de
        <literal>Software\gretl</literal> en <literal>HKEY_CLASSES_ROOT</literal>
        (el directorio principal de <application>gretl</application> y la
        instrucción para invocar <application>gnuplot</application>) y
        <literal>HKEY_CURRENT_USER</literal> (las demás variables
        configurables).</para>
      </sect2>
    </sect1>
  </chapter>

  <!-- Keep this comment at the end of the file
Local variables:
sgml-default-dtd-file:"../manual.ced"
mode: xml
sgml-parent-document:("../manual.xml" "book" "chapter")
End:
-->

