\chapter{Gretl e \TeX}
\label{gretltex}


\section{Introduzione}
\label{tex-intro}

\TeX, sviluppato inizialmente da Donald Knuth della Stanford University
e poi migliorato da centinaia di sviluppatori di tutto il mondo, è
il punto di riferimento per la composizione di testi scientifici.
\app{Gretl} fornisce vari comandi che consentono di vedere un'anteprima
o di stampare i risultati delle analisi econometriche usando 
\TeX, oltre che di salvare i risultati in modo da poter essere
successivamente modificati con \TeX.

Questo capitolo spiega in dettaglio le funzionalità di \app{gretl}
che interessano \TeX. La prima sezione descrive i menù nell'interfaccia
grafica; la sezione~\ref{tex-tune} discute vari modi di personalizzare
i risultati prodotti da \TeX, mentre la sezione~\ref{tex-install}
fornisce alcune indicazioni per installare \TeX, se ancora non lo si ha
sul proprio computer. Per chiarezza: \TeX\ non è incluso nella distribuzione
standard di \app{gretl}, è un pacchetto separato, che comprende vari programmi
e file di supporto.

Prima di procedere, può essere utile chiarire brevemente il modo in cui
viene prodotto un documento usando \TeX. La maggior parte di questi dettagli
non necessitano di alcuna preoccupazione da parte dell'utente, visto che
sono gestiti automaticamente da \app{gretl}, ma una comprensione di base dei
meccanismi all'opera può aiutare nella scelta delle opzioni a disposizione.

Il primo passo consiste nella creazione di un file ``sorgente'' testuale,
che contiene il testo o le espressioni matematiche che compongono il documento,
assieme ad alcuni comandi mark-up che regolano la formattazione del documento.
Il secondo passo consiste nel fornire il file a un motore che esegue la
formattazione vera e propria. Tipicamente, si tratta di:
\begin{itemize}
\item un programma chiamato \app{latex}, che genera un risultato in formato
  DVI (device-independent), oppure
\item un programma chiamato \app{pdflatex}, che genera un risultato in formato
  PDF\footnote{Gli utenti più esperti hanno dimestichezza anche con il
  cosiddetto ``plain \TeX'', che viene processato dal programma \app{tex}.
  La maggioranza degli utenti di \TeX, comunque, usa le macro fornite dal
  programma \LaTeX, sviluppato inizialmente da Leslie Lamport. \app{Gretl}
  non supporta il plain \TeX.}.
\end{itemize}

Per visualizzare le anteprime, si può utilizzare un visualizzatore DVI,
(tipicamente \app{xdvi} sui sistemi GNU/Linux) o PDF (tipicamente Adobe Acrobat
Reader o \app{xpdf}, a seconda di come è stato processato il sorgente.  Se si
sceglie la via del DVI, c'è un ultimo passo per creare un documento stampabile,
che tipicamente richiede il programma \app{dvips} per generare un file in
formato PostScript. Se si sceglie la via del PDF, il documento è pronto per
essere stampato.

Sulle piattaforme MS Windows e Mac OS X, \app{gretl} richiama
\app{pdflatex} per processare il file sorgente e si aspetta che il sistema
operativo sia in grado di eseguire un programma per visualizzare il file PDF; il
formato DVI non è supportato. Su GNU/Linux, la scelta predefinita è per il formato
DVI, ma se si preferisce usare il PDF basta seguire queste istruzioni:
dal menù ``Strumenti, Preferenze, Generali'', nella sezione ``Programmi'',
impostare il ``Comando per compilare i file TeX'' a \texttt{pdflatex}; inoltre
assicurarsi che il ``Comando per visualizzare i file PDF'' sia ben impostato.

\section{I comandi \TeX nei menù}
\label{tex-menus}

La maggior parte dei comandi di \app{gretl} relativi a \TeX\ si trova nel menù
``LaTeX'' della finestra dei modelli, che contiene le voci ``Visualizza'',
``Copia'', ``Salva'' e ``Opzioni equazione''. Ognuna delle prime tre voci, a sua
volta, contiene due opzioni, intitolate ``Tabella'' ed ``Equazione''.
Selezionando ``Tabella'', il modello viene rappresentato in forma tabulare,
consentendo la rappresentazione più completa ed esplicita dei risultati;
l'esempio mostrato nella Tabella~\ref{tab:mod1} è stato creato proprio
scegliendo il comando ``Copia, Tabella'' di \app{gretl} (per brevità sono state
omesse alcune righe).

\begin{table}[htbp]
\caption{Esempio dell'output \LaTeX\ tabulare}
\label{tab:mod1}
\begin{center}

Modello 1: Stime OLS usando le 51 osservazioni 1-51\\
Variabile dipendente: ENROLL\\

\vspace{1em}

\begin{tabular*}{\textwidth}{@{\extracolsep{\fill}}
l% col 1: varname
  D{.}{.}{-1}% col 2: coeff
    D{.}{.}{-1}% col 3: sderr
      D{.}{.}{-1}% col 4: t-stat
        D{.}{.}{4}}% col 5: p-value (or slope)
Variabile &
  \multicolumn{1}{c}{Coefficiente} &
    \multicolumn{1}{c}{Errore\ Std.} &
      \multicolumn{1}{c}{statistica $t$} &
        \multicolumn{1}{c}{p-value} \\[1ex]
const &
  0.241105 &
    0.0660225 &
      3.6519 &
        0.0007 \\
CATHOL &
  0.223530 &
    0.0459701 &
      4.8625 &
        0.0000 \\
PUPIL &
  -0.00338200 &
    0.00271962 &
      -1.2436 &
        0.2198 \\
WHITE &
  -0.152643 &
    0.0407064 &
      -3.7499 &
        0.0005 \\
\end{tabular*}

\vspace{1em}

\begin{tabular}{lD{.}{.}{-1}}
Media della variabile dipendente & 0.0955686 \\
 D.S. della variabile dipendente & 0.0522150 \\
Somma dei quadrati dei residui & 0.0709594 \\
Errore standard dei residui ($\hat{\sigma}$) & 0.0388558 \\
$R^2$ & 0.479466 \\
$\bar{R}^2$ corretto & 0.446241 \\
$F(3, 47)$ & 14.4306 \\
\end{tabular}
\end{center}
\end{table}

L'opzione ``Equazione'' si spiega da sé: i risultati della stima vengono scritti
sotto forma di equazione, nel modo seguente

%%% the following needs the amsmath LaTeX package

\begin{gather}
\widehat{\rm ENROLL} = 
\underset{(0.066022)}{0.241105}
+\underset{(0.04597)}{0.223530}\,\mbox{CATHOL}
-\underset{(0.0027196)}{0.00338200}\,\mbox{PUPIL}
-\underset{(0.040706)}{0.152643}\,\mbox{WHITE}
 \notag \\
T = 51 \quad \bar{R}^2 = 0.4462 \quad F(3,47) = 14.431 \quad \hat{\sigma} = 0.038856\notag \\
\centerline{(errori standard tra parentesi)} \notag
\end{gather}

La differenza tra i comandi ``Copia'' e ``Salva'' è di due tipi. Innanzitutto,
``Copia'' copia il sorgente \TeX\ negli appunti, mentre ``Salva'' richiede il
nome di un file in cui verrà salvato il sorgente. In secondo luogo, con
``Copia'' il materiale viene copiato come ``frammento'' di file \TeX, mentre con
``Salva'' viene salvato come file completo. La differenza si spiega tenendo
conto che un file sorgente \TeX\ completo comprende un preambolo che contiene
comandi come \verb|\documentclass|, che definisce il tipo di documento (ad
esempio articolo, rapporto, libro, ecc.) e come \verb|\begin{document}| e
\verb|\end{document}|, che delimitano l'inizio e la fine del documento. Questo
materiale aggiuntivo viene incluso quando si sceglie ``Salva'', ma non quando si
sceglie ``Copia'', visto che in questo caso si presume che l'utente incollerà i
dati in un file sorgente \TeX\ già provvisto del preambolo richiesto.

I comandi del menù ``Opzioni equazione'' sono chiari: determinano se, quando
si stampa il modello sotto forma di equazione, verranno mostrati gli errori
standard o i rapporti $t$ tra parentesi sotto le stime dei parametri.
L'impostazione predefinita è quella di mostrare gli errori standard.


\section{Personalizzazione dei documenti}
\label{tex-tune}

\section{Installazione di \TeX}
\label{tex-install}




%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "gretl-guide"
%%% End: 
