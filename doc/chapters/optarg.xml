  <chapter id="optarg">
    <title>Options, arguments and path-searching</title>
  
    <sect1 id="optarg1"><title>Invoking gretl</title>

      <para>
	<command>gretl</command> (under MS Windows,
	<command>gretlw32.exe</command>)<footnote><para>On Linux, a
	    <quote>wrapper</quote> script named <filename>gretl</filename>
	    is installed.  This script checks whether the
	    <literal>DISPLAY</literal> environment variable is set; if so,
	    it launches the GUI program, <filename>gretl_x11</filename>,
	    and if not it launches the command-line program,
	    <filename>gretlcli</filename>.</para>
	</footnote>
      </para>

      <para>
	&mdash; Opens the program and waits for user input.
      </para>

      <para>
	<command>gretl</command> <replaceable>datafile</replaceable>
      </para>

      <para>
	&mdash; Starts the program with the specified datafile in its
	workspace. The data file may be in any of several formats (see the
	&GUG;); the program will try to detect the format of the file and
	treat it appropriately. See also <xref linkend="path-search"/>
	below for path-searching behavior.
      </para>

      <para>
	<command>gretl --help</command> (or <command>gretl -h</command>)
      </para>

      <para>
	&mdash; Print a brief summary of usage and exit.
      </para>

      <para>
	<command>gretl --version</command> (or <command>gretl
	  -v</command>)
      </para>

      <para>
	&mdash; Print version identification for the program and exit.
      </para>

      <para>
	<command>gretl --english</command> (or <command>gretl
	  -e</command>)
      </para>

      <para>
	&mdash; Force use of English instead of translation.
      </para>

      <para>
	<command>gretl --run</command>
	<replaceable>scriptfile</replaceable> (or <command>gretl
	  -r</command> <replaceable>scriptfile</replaceable>)
      </para>

      <para>&mdash; Start the program and open a window displaying the
	specified script file, ready to run.  See <xref
	linkend="path-search"/> below for path-searching behavior.
      </para>

      <para>
	<command>gretl --db</command> <replaceable>database</replaceable>
	(or <command>gretl -d</command>
	<replaceable>database</replaceable>)</para>

      <para>&mdash; Start the program and open a window displaying the
	specified database.  If the database files (the
	<filename>.bin</filename> file and its accompanying
	<filename>.idx</filename> file) are not in the default system
	database directory, you must specify the full path.  See also the
	&GUG; for details on databases.
      </para>

      <para>
	<command>gretl --dump</command> (or <command>gretl -c</command>)
      </para>

      <para>&mdash; Dump the program's configuration information to a
	plain text file (the name of the file is printed on standard
	output).  May be useful for trouble-shooting.
      </para>

      <para>
	<command>gretlw32 --debug</command> (or <command>gretlw32
	  -g</command>)
      </para>

      <para>&mdash; (MS Windows only) Open a console window to display any
	messages sent to the <quote>standard output</quote> or
	<quote>standard error</quote> streams.   Such messages are not
	usually visible on Windows; this may be useful for
	trouble-shooting.
      </para>

    </sect1>

    <sect1 id="guiprefs"><title>Preferences dialog</title>

      <para>Various things in <application>gretl</application> are
	configurable under the <quote>Tools, Preferences</quote> menu.
	Separate menu items are devoted to the choice of the monospaced
	font to be used in <application>gretl</application> screen output,
	and, on some platforms, the font used for menus and other
	messages.  The other options are organized under five tabs, as
	follows.
      </para>

      <para>
	<GUIMenuItem>General</GUIMenuItem>: Here you can configure the
	base directory for <application>gretl</application>'s shared
	files. In addition there are several check boxes. Checking
	<quote>Tell me about gretl updates</quote> makes
	<application>gretl</application> attempt to query the update
	server at start-up. Unchecking <quote>Show gretl toolbar</quote>
	turns the icon toolbar off.  If your native language setting is
	not English and the local decimal point character is not the
	period (<quote><literal>.</literal></quote>), unchecking
	<quote>Use locale setting for decimal point</quote> will make
	<application>gretl</application> use the period regardless.
	Checking <quote>Allow shell commands</quote> makes it possible to
	invoke shell commands in scripts and in the
	<application>gretl</application> console (this facility is
	disabled by default for security reasons).
      </para>
	      
      <para>
	Also under <quote>General</quote> you can select the algorithm
	used by <application>gretl</application> for calculating least
	squares estimates.  The default is Cholesky decomposition, which
	is fast, relatively economical in terms of memory requirements,
	and accurate enough for most purposes.  The alternative is QR
	decomposition, which is computationally more expensive and
	requires more temporary storage, but which is more accurate.  You
	are unlikely to need the extra accuracy of QR decomposition unless
	you are dealing with very ill-conditioned data and are concerned
	with coefficient or standard error values to more than 7 digits of
	precision.<footnote><para>The option of using QR decomposition can
	    also be activated by setting the environment variable
	    <varname>GRETL_USE_QR</varname> to any non-NULL value.</para>
	</footnote>
      </para>

      <para>
	<GUIMenuItem>Databases</GUIMenuItem> tab: You can select the
	directory in which to start looking for native
	<application>gretl</application> databases; the directory in which
	to start looking for RATS 4 databases; the host name of the
	<application>gretl</application> database server to access; and
	the IP number and port number of the HTTP proxy server to use when
	contacting the database server (if you're behind a firewall).
      </para>

      <para>
	<GUIMenuItem>Programs</GUIMenuItem> tab: You can specify the names
	or paths to various third-party programs that may called by
	<application>gretl</application> under certain conditions. Note
	that the item <quote>Command to compile &tex; files</quote> can be
	set to either latex or pdflatex; if latex is selected, &tex;
	output will be previewed in DVI format; if pdflatex is selected,
	the preview will be in PDF format.
      </para>

      <para>
	<GUIMenuItem>HCCME</GUIMenuItem> tab: Set preferences regarding
	robust covariance matrix estimation.  See the &GUG; for details.
      </para>

      <para>
	<GUIMenuItem>Manuals</GUIMenuItem> tab: Select your preferred
	language for the full <application>gretl</application>
	documentation in PDF format (currently only English and Italian
	are supported).  When using the English documentation you can also
	choose between US letter paper and A4 paper.
      </para>
 
      <para>Settings chosen via the Preferences dialog are stored from one
	gretl session to the next.  Under MS Windows they are stored in
	the Windows registry; on other platforms they are stored in a
	plain text file named <filename>.gretlrc</filename> in the user's
	home directory.
      </para>

    </sect1>

    <sect1 id="optarg2"><title>Invoking gretlcli</title>

      <para><command>gretlcli</command></para>

      <para>&mdash; Opens the program and waits for user input.
      </para>

      <para><command>gretlcli</command>
	<replaceable>datafile</replaceable></para>  

      <para>&mdash; Starts the program with the specified datafile in its
	workspace. The data file may be in any format supported by
	<application>gretl</application> (see the &GUG; for details). The
	program will try to detect the format of the file and treat it
	appropriately. See also <xref linkend="path-search"/> for
	path-searching behavior.</para>

      <para><command>gretlcli --help</command> (or <command>gretlcli
	  -h</command>)</para>

      <para>&mdash; Prints a brief summary of usage.</para>

      <para><command>gretlcli --version</command> (or <command>gretlcli
	  -v</command>)</para>

      <para>&mdash; Prints version identification for the program.</para>

      <para><command>gretlcli --english</command> (or <command>gretlcli
	  -e</command>)</para>

      <para>&mdash; Force use of English instead of translation.</para>

      <para><command>gretlcli --run</command>
	<replaceable>scriptfile</replaceable> (or <command>gretlcli
	  -r</command> <replaceable>scriptfile</replaceable>)</para>

      <para>&mdash; Execute the commands in
	<replaceable>scriptfile</replaceable> then hand over input to the
	command line.  See <xref linkend="path-search"/> for
	path-searching behavior.</para>  

      <para><command>gretlcli --batch</command>
	<replaceable>scriptfile</replaceable> (or <command>gretlcli
	  -b</command> <replaceable>scriptfile</replaceable>)</para>

      <para>&mdash; Execute the commands in
	<replaceable>scriptfile</replaceable> then exit.  When using this
	option you will probably want to redirect output to a file. See
	<xref linkend="path-search"/> for path-searching
	behavior.</para>

      <para>When using the <command>--run</command> and
	<command>--batch</command> options, the script file in question
	must call for a data file to be opened. This can be done using the
	<command>open</command> command within the script.
      </para>
      
    </sect1>

    <sect1 id="path-search"><title>Path searching</title>

      <para>When the name of a data file or script file is supplied to
	<application>gretl</application> or
	<application>gretlcli</application> on the command line, the file
	is looked for as follows:</para>

      <orderedlist>
	<listitem><para><quote>As is</quote>.  That is, in the current
	    working directory or, if a full path is specified, at the
	    specified location.</para>
	</listitem>
	<listitem><para>In the user's gretl directory (see <xref
	      linkend="tab-path"/> for the default values; note that
	    <literal>PERSONAL</literal> is a placeholder that is expanded
	    by Windows in a user- and language-specific way, typically
	    involving <quote>My Documents</quote> on English-language
	    systems).</para>
	</listitem>
	<listitem>
	  <para>
	    In any immediate sub-directory of the user's gretl
	    directory.</para></listitem> 
	<listitem>
	  <para>
	  In the case of a data file, search continues with the main
	    <application>gretl</application> data directory. In the case
	    of a script file, the search proceeds to the system script
	    directory.  See
	  <xref linkend="tab-path"/> for the default settings.
	    (<filename>PREFIX</filename> denotes the base directory chosen
	    at the time <application>gretl</application> is installed.)
	  </para>
	</listitem>
	<listitem>
	  <para>
	    In the case of data files the search then proceeds to all
	    immediate sub-directories of the main data directory.
	  </para>
	</listitem>
      </orderedlist>

      <table id="tab-path" frame="none">
	<title>Default path settings</title>
	<tgroup cols="3">
	  <thead>
	    <row>
	      <entry>&nbsp;</entry>
	      <entry>Linux</entry>
	      <entry>MS Windows</entry>
	    </row>
	  </thead>
	  <tbody>
	    <row>
	      <entry>User directory</entry>
	      <entry><filename>$HOME/gretl</filename></entry>
	      <entry><filename>PERSONAL\gretl</filename></entry>
	    </row>
	    <row>
	      <entry>System data directory</entry>
	      <entry><filename>PREFIX/share/gretl/data</filename></entry>
	      <entry><filename>PREFIX\gretl\data</filename></entry>
	    </row>
	    <row>
	      <entry>System script directory</entry>
	      <entry><filename>PREFIX/share/gretl/scripts</filename></entry>
	      <entry><filename>PREFIX\gretl\scripts</filename></entry>
	    </row>
	  </tbody>
	</tgroup>
      </table>

      <para>Thus it is not necessary to specify the full path for a data
	or script file unless you wish to override the automatic searching
	mechanism. (This also applies within
	<application>gretlcli</application>, when you supply a filename as
	an argument to the <command>open</command> or
	<command>run</command> commands.)</para>

      <para>When a command script contains an instruction to open a data
	file, the search order for the data file is as stated above,
	except that the directory containing the script is also searched,
	immediately after trying to find the data file <quote>as
	  is</quote>.
      </para>

      <sect2 id="MS-behave"><title>MS Windows</title>

	<para>
	  Under MS Windows configuration information for
	  <application>gretl</application> and
	  <application>gretlcli</application> is stored in the Windows
	  registry. A suitable set of registry entries is created when
	  <application>gretl</application> is first installed, and the
	  settings can be changed under <application>gretl</application>'s
	  <quote>Tools, Preferences</quote> menu. In case anyone needs to
	  make manual adjustments to this information, the entries can be
	  found (using the standard Windows program
	  <application>regedit.exe</application>) under
	  <literal>Software\gretl</literal> in
	  <literal>HKEY_LOCAL_MACHINE</literal> (the main
	  <application>gretl</application> directory and the paths to
	  various auxiliary programs) and
	  <literal>HKEY_CURRENT_USER</literal> (all other configurable
	  variables).</para>

      </sect2>
    </sect1>

  </chapter>


<!-- Keep this comment at the end of the file
Local variables:
sgml-default-dtd-file:"../manual.ced"
mode: xml
sgml-parent-document:("../shell.xml" "book" "chapter")
End:
-->

