gretl version 2021d-git
Copyright Ramu Ramanathan, Allin Cottrell and Riccardo "Jack" Lucchetti
This is free software with ABSOLUTELY NO WARRANTY
Current session: 2021-09-28 22:40
? run pcatest.inp
 /home2/helio/github/gretl/gretl-tests/test-gretl/pcatest.inp
? open data4-10

Read datafile /usr/local/share/gretl/data/ramanathan/data4-10.gdt
periodicity: 1, maxobs: 51
observations range: 1 to 51

Listing 11 variables:
  0) const      1) ENROLL     2) CATHOL     3) PUPIL      4) WHITE    
  5) ADMEXP     6) REV        7) MEMNEA     8) INCOME     9) COLLEGE  
 10) REGION   

? list vars = MEMNEA ADMEXP
Generated list vars
# compare pca and princomp() in the full sample
? matrix P1 = princomp({vars}, 1)
Generated matrix P1
? pca vars --save=1
Principal Components Analysis
n = 51

Eigenanalysis of the Correlation Matrix

Component  Eigenvalue  Proportion   Cumulative
    1       1.0959       0.5479       0.5479
    2       0.9041       0.4521       1.0000

Eigenvectors (component loadings)

               PC1      PC2
MEMNEA      -0.707   -0.707
ADMEXP       0.707   -0.707

Generated principal component series
? matrix chk = P1 ~ {PC1} ~ (P1-{PC1})
Generated matrix chk

    -1.014092440269    -1.014092440269     0.000000000000
    -1.176222330023    -1.176222330023     0.000000000000
     0.921830419715     0.921830419715     0.000000000000
     0.558999241996     0.558999241996     0.000000000000
     0.798088383565     0.798088383565     0.000000000000
     0.020870992166     0.020870992166     0.000000000000
    -0.567379288449    -0.567379288449     0.000000000000
    -1.448145553164    -1.448145553164     0.000000000000
     1.650340628216     1.650340628216     0.000000000000
     2.057302707640     2.057302707640     0.000000000000
     0.610580092505     0.610580092505     0.000000000000
    -0.644966136280    -0.644966136280     0.000000000000
    -0.097534288367    -0.097534288367     0.000000000000
     0.908211528690     0.908211528690     0.000000000000
    -0.139672449471    -0.139672449471     0.000000000000
    -0.130908022281    -0.130908022281     0.000000000000
     0.553313554454     0.553313554454     0.000000000000
    -2.226772060985    -2.226772060985     0.000000000000
     1.584253265312     1.584253265312     0.000000000000
    -1.647171486440    -1.647171486440     0.000000000000
    -0.388058013313    -0.388058013313     0.000000000000
    -1.037922152382    -1.037922152382     0.000000000000
     0.395296292848     0.395296292848     0.000000000000
    -0.446061137036    -0.446061137036     0.000000000000
     0.999423480459     0.999423480459     0.000000000000
     1.330219291403     1.330219291403     0.000000000000
    -0.210431213051    -0.210431213051     0.000000000000
    -1.089966174486    -1.089966174486     0.000000000000
     0.046616964135     0.046616964135     0.000000000000
    -0.417669013901    -0.417669013901     0.000000000000
    -1.055735402317    -1.055735402317     0.000000000000
     1.709778682909     1.709778682909     0.000000000000
     1.224309143926     1.224309143926     0.000000000000
    -0.685898808653    -0.685898808653     0.000000000000
    -0.520748021260    -0.520748021260     0.000000000000
     0.391583744272     0.391583744272     0.000000000000
    -0.973154036432    -0.973154036432     0.000000000000
     0.108110851454     0.108110851454     0.000000000000
    -0.045039520492    -0.045039520492     0.000000000000
    -0.183911377935    -0.183911377935     0.000000000000
     1.091676496538     1.091676496538     0.000000000000
     0.279169111369     0.279169111369     0.000000000000
    -1.958440452388    -1.958440452388     0.000000000000
     1.500453021973     1.500453021973     0.000000000000
    -1.115033402792    -1.115033402792     0.000000000000
    -0.793191776556    -0.793191776556     0.000000000000
    -0.377104875089    -0.377104875089     0.000000000000
    -0.165735325904    -0.165735325904     0.000000000000
     2.465769022972     2.465769022972     0.000000000000
    -0.628371282351    -0.628371282351     0.000000000000
    -0.020860876453    -0.020860876453     0.000000000000

# and using covariance matrix
? P1 = princomp({vars}, 1, 1)
Replaced matrix P1
? pca vars --save=1 --covariance
Principal Components Analysis
n = 51

Eigenanalysis of the Covariance Matrix

Component  Eigenvalue  Proportion   Cumulative
    1       0.0562       0.9708       0.9708
    2       0.0017       0.0292       1.0000

Eigenvectors (component loadings)

               PC1      PC2
MEMNEA      -1.000   -0.017
ADMEXP       0.017   -1.000

Generated principal component series
? matrix chk = P1 ~ {PC11} ~ (P1-{PC11})
> chk = P1 ~ {PC11}
The symbol 'PC11' is undefined
Terminated on error
