gretl version 2016b-git
Copyright Ramu Ramanathan, Allin Cottrell and Riccardo "Jack" Lucchetti
This is free software with ABSOLUTELY NO WARRANTY
Current session: 2016-02-04 15:33
? run prueba-filtroSTB.inp
 /home/cottrell/stats/test-gretl/ufunc/prueba-filtroSTB.inp
# Build the seasonal filters Smith-Taylor-Barrio
? function list seasfSTB(const series *y)
? open data9-3.gdt

Read datafile /opt/esl/share/gretl/data/data9-3.gdt
periodicity: 4, maxobs: 87
observations range: 1972:2 to 1993:4

Listing 10 variables:
  0) const     1) period    2) reskwh    3) nocust    4) price   
  5) cpi       6) incm      7) cdd       8) hdd       9) pop     

? list xx=seasfSTB(&reskwh)

Number of iterations: 4


Number of iterations: 4

Generated list xx
? varlist
Listing 14 variables:
  0) const         1) period        2) reskwh        3) nocust      
  4) price         5) cpi           6) incm          7) cdd         
  8) hdd           9) pop          10) reskwh0_1    11) reskwhpi_1  
 12) reskwha1_1   13) reskwhb1_1  

? print reskwh*_1 -o

          reskwh0_1   reskwhpi_1   reskwha1_1   reskwhb1_1

1972:2                                                    
1972:3                                                    
1972:4                                                    
1973:1                                                    
1973:2     2733.765     -152.241      117.546      191.409
1973:3     2814.799       71.207      191.409      -36.512
1973:4     2850.829     -107.237      -36.512     -155.379
1974:1     2879.514       78.552     -155.379       65.197
1974:2     2859.184      -58.222       65.197      135.049
1974:3     2846.877       70.529      135.049      -77.504
1974:4     2877.649     -101.301      -77.504     -104.277
1975:1     2912.982       65.968     -104.277      112.837
1975:2     2993.987     -146.973      112.837      185.282
1975:3     3060.776       80.184      185.282      -46.048
1975:4     3065.848      -85.256      -46.048     -180.210
1976:1     3101.854       49.250     -180.210       82.054
1976:2     3103.981      -51.377       82.054      182.337
1976:3     3145.475        9.883      182.337      -40.560
1976:4     3238.232     -102.640      -40.560      -89.580
1977:1     3294.795       46.077      -89.580       97.123
1977:2     3361.460     -112.742       97.123      156.245
1977:3     3391.435       82.767      156.245      -67.148
1977:4     3421.810     -113.142      -67.148     -125.870
1978:1     3437.355       97.597     -125.870       82.693
1978:2     3483.881     -144.123       82.693      172.396
1978:3     3532.827       95.177      172.396      -33.747
1978:4     3605.393     -167.743      -33.747      -99.830
1979:1     3727.828       45.308      -99.830      156.182
1979:2     3869.720     -187.200      156.182      241.722
1979:3     3928.470      128.450      241.722      -97.432
1979:4     3977.572     -177.552      -97.432     -192.620
1980:1     4003.703      151.421     -192.620      123.563
1980:2     3937.302      -85.020      123.563      126.219
1980:3     3950.897       71.425      126.219     -109.968
1980:4     3939.238      -59.766     -109.968     -137.878
1981:1     3883.768      115.236     -137.878       54.498
1981:2     3844.046      -75.514       54.498       98.156
1981:3     3812.880      106.680       98.156      -85.664
1981:4     3840.517     -134.317      -85.664      -70.519
1982:1     3851.588      123.246      -70.519       96.735
1982:2     3885.364     -157.022       96.735      104.295
1982:3     3888.782      153.604      104.295      -93.317
1982:4     3863.602     -128.424      -93.317     -129.475
1983:1     3861.309      130.717     -129.475       91.024
1983:2     3819.000      -88.408       91.024       87.166
1983:3     3849.351       58.057       87.166      -60.673
1983:4     3891.469     -100.175      -60.673      -45.048
1984:1     3911.418       80.226      -45.048       80.622
1984:2     3906.528      -75.336       80.622       40.158
1984:3     3908.680       73.184       40.158      -78.470
1984:4     3973.481     -137.985      -78.470       24.643
1985:1     4058.104       53.362       24.643      163.093
1985:2     4207.222     -202.480      163.093      124.475
1985:3     4232.860      176.842      124.475     -137.455
1985:4     4254.718     -198.700     -137.455     -102.617
1986:1     4251.551      201.867     -102.617      134.288
1986:2     4224.422     -174.738      134.288       75.488
1986:3     4271.515      127.645       75.488      -87.195
1986:4     4296.783     -152.913      -87.195      -50.220
1987:1     4324.862      124.834      -50.220      115.274
1987:2     4450.999     -250.971      115.274      176.357
1987:3     4513.031      188.939      176.357      -53.242
1987:4     4533.386     -209.294      -53.242     -156.002
1988:1     4640.183      102.497     -156.002      160.039
1988:2     4711.659     -173.973      160.039      227.478
1988:3     4779.471      106.161      227.478      -92.227
1988:4     4910.107     -236.797      -92.227      -96.842
1989:1     4929.343      217.561      -96.842      111.463
1989:2     5027.158     -315.376      111.463      194.657
1989:3     5061.155      281.379      194.657      -77.466
1989:4     5099.794     -320.018      -77.466     -156.018
1990:1     5145.743      274.069     -156.018      123.415
1990:2     5198.234     -326.560      123.415      208.509
1990:3     5248.478      276.316      208.509      -73.171
1990:4     5365.589     -393.427      -73.171      -91.398
1991:1     5422.942      336.074      -91.398      130.524
1991:2     5392.610     -305.742      130.524       61.066
1991:3     5396.750      301.602       61.066     -126.384
1991:4     5263.751     -168.603     -126.384     -194.065
1992:1     5334.697       97.657     -194.065      197.330
1992:2     5325.791      -88.751      197.330      185.159
1992:3     5370.204       44.338      185.159     -152.917
1992:4     5613.659     -287.793     -152.917       58.296
1993:1     5611.070      290.382       58.296      150.328
1993:2     5677.161     -356.473      150.328        7.795
1993:3     5663.498      370.136        7.795     -163.991
1993:4     5564.023     -270.661     -163.991     -107.270

# gnuplot reskwh0_1 --time-series --with-lines --output=display
# gnuplot reskwhpi_1 --time-series --with-lines --output=display
# gnuplot reskwha1_1 --time-series --with-lines --output=display
# gnuplot reskwha1_1 --time-series --with-lines --output=display
Done
