gretl version 2016b-git
Copyright Ramu Ramanathan, Allin Cottrell and Riccardo "Jack" Lucchetti
This is free software with ABSOLUTELY NO WARRANTY
Current session: 2016-04-06 11:16
? run BSMR.inp
 /home/cottrell/stats/test-gretl/kalman/BSMR.inp
? open data9-3.gdt

Read datafile /opt/esl/share/gretl/data/data9-3.gdt
periodicity: 4, maxobs: 87
observations range: 1972:2 to 1993:4

Listing 10 variables:
  0) const     1) period    2) reskwh    3) nocust    4) price   
  5) cpi       6) incm      7) cdd       8) hdd       9) pop     

? foreign language=R --send-data
?     y <- gretldata[, "reskwh"]
?     bsm <- StructTS(y)
?     compon <- as.ts(tsSmooth(bsm))
?     vars <- as.matrix(bsm$coef)
?     Rll <- as.matrix(bsm$loglik)
?     gretl.export(compon)
?     gretl.export(vars)
?     gretl.export(Rll)
? end foreign
wrote /home/cottrell/.gretl/compon.csv 
wrote /home/cottrell/.gretl/vars.mat 
wrote /home/cottrell/.gretl/Rll.mat 
? vars = mread("/home/cottrell/.gretl/vars.mat")
Generated matrix vars
? vars
vars (4 x 1)

      496.33 
     0.57199 
      189.79 
      537.78 

? Rll = mread("/home/cottrell/.gretl/Rll.mat")
Generated scalar Rll = -471.18
? append /home/cottrell/.gretl/compon.csv -q
Read datafile /home/cottrell/.gretl/compon.csv
? print -o level slope sea

              level        slope          sea

1972:2      622.237     13.00076     -29.8749
1972:3      649.978     12.88571     -13.5372
1972:4      687.428     12.74236      11.1552
1973:1      719.594     12.57663      57.1777
1973:2      714.278     12.43151     -47.1001
1973:3      708.387     12.30751     -32.7251
1973:4      715.141     12.18991      15.7930
1974:1      720.020     12.08074      74.8472
1974:2      722.936     11.98212     -55.2660
1974:3      737.138     11.88095     -41.3117
1974:4      754.217     11.77379      14.9127
1975:1      772.073     11.65962      87.4180
1975:2      772.842     11.55800     -55.1556
1975:3      769.414     11.47365     -52.3118
1975:4      783.835     11.38591      20.0597
1976:1      797.907     11.29507      88.2367
1976:2      817.550     11.19460     -58.5447
1976:3      832.837     11.08943     -47.9308
1976:4      842.921     10.98541      15.9839
1977:1      851.208     10.88450      95.1137
1977:2      859.069     10.78707     -65.4059
1977:3      866.897     10.69305     -45.1719
1977:4      875.483     10.60147      12.6852
1978:1      894.944     10.49967     102.3658
1978:2      918.097     10.38329     -72.4190
1978:3      944.031     10.24899     -45.9799
1978:4      974.151     10.09179      15.9971
1979:1      996.203      9.92081     107.2181
1979:2      988.854      9.76972     -80.3197
1979:3      988.042      9.63084     -41.5659
1979:4      990.788      9.49989      22.7826
1980:1      982.991      9.38887      90.1853
1980:2      979.222      9.29301     -73.3429
1980:3      967.048      9.22190     -32.9004
1980:4      957.880      9.17197      18.6088
1981:1      955.221      9.13568      83.4779
1981:2      961.507      9.10268     -75.4820
1981:3      969.889      9.07051     -21.2111
1981:4      969.221      9.04956      14.8398
1982:1      971.861      9.03599      80.3167
1982:2      964.735      9.04105     -75.9785
1982:3      959.110      9.06302     -18.5058
1982:4      960.278      9.09408      20.7944
1983:1      964.164      9.13114      67.8523
1983:2      978.776      9.16189     -74.1910
1983:3      981.511      9.20004     -12.2225
1983:4      978.657      9.25209      22.1285
1984:1      978.325      9.31518      67.0877
1984:2     1005.621      9.35755     -83.4449
1984:3     1035.300      9.37650      -6.6347
1984:4     1054.363      9.38428      16.9633
1985:1     1062.908      9.39303      85.5645
1985:2     1056.520      9.41998     -97.3825
1985:3     1062.950      9.45036      -6.0501
1985:4     1064.660      9.48967      13.5281
1986:1     1065.140      9.53936      91.7475
1986:2     1083.530      9.57885     -94.0074
1986:3     1099.331      9.61117     -13.5035
1986:4     1113.794      9.63789       4.1076
1987:1     1137.749      9.64812     113.0811
1987:2     1149.863      9.65551     -98.9475
1987:3     1158.768      9.66376     -24.6208
1987:4     1192.118      9.64471       6.9829
1988:1     1211.292      9.61468     122.9618
1988:2     1229.610      9.57463    -111.1609
1988:3     1244.415      9.52854     -10.4052
1988:4     1255.209      9.48100      -9.9981
1989:1     1276.601      9.41973     138.9538
1989:2     1281.867      9.36324    -124.2002
1989:3     1288.419      9.31000      -1.9634
1989:4     1303.697      9.24988     -11.1791
1990:1     1330.812      9.16917     138.0755
1990:2     1342.558      9.08549    -133.4258
1990:3     1356.692      8.99599       8.1287
1990:4     1343.754      8.93177      -0.7716
1991:1     1336.294      8.88644     120.0105
1991:2     1329.879      8.85875    -124.5983
1991:3     1318.533      8.85433      -5.4773
1991:4     1355.174      8.81790      23.7731
1992:1     1365.035      8.78026     102.5371
1992:2     1394.570      8.71871    -138.2902
1992:3     1425.216      8.63189      29.7212
1992:4     1410.022      8.57252       1.9763
1993:1     1400.918      8.53353     109.9159
1993:2     1390.416      8.51647    -141.1269
1993:3     1387.230      8.51290      27.1294
1993:4     1392.644      8.51290       2.8967

Done
